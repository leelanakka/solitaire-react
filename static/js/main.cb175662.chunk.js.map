{"version":3,"sources":["cards_data/cards.js","game.js","pile.js","Card.js","app.js","index.js"],"names":["Cards","suit","value","color","unicode","Game","Object","classCallCheck","this","deck","tableaus","foundations","showCardPile","pile","drawCard","isEmpty","addCard","reloadDeck","tableau","push","getLastCard","foundation","id","des","split","includes","addCardToReservedPileFromWaste","addCardToFoundationFromTableau","addCardToStackPileFromWaste","addCardToStackPileFromFoundation","addCardToTableauFromTableau","srcPile","isAddable","isAddableToStackPile","getLastCardValue","isAlternateColor","getLastCardColor","isAddableToReservedPile","isSameSuit","getLastCardSuit","noOfCards","getCardValue","getCardColor","addCards","drawCards","isDraggable","src","_this","result","some","x","stackPiles","Pile","cards","card","forEach","length","getCard","pop","_this2","Array","fill","map","reverse","blockCard","revealCard","Card","_ref","isBlockedCard","actualUnicode","actualColor","defaultCard","emptyCard","App","props","possibleConstructorReturn","getPrototypeOf","call","state","game","startGame","addShuffledPile","initializePile","setFoundations","setTableaus","setShowCardPile","lodash","shuffle","index","i","blockLastCard","revealLastCard","addTableau","addFoundation","setState","changeCard","event","preventDefault","dataTransfer","setData","target","destination","getData","addCardToReservedPile","totalCards","react_default","a","createElement","className","getUnicode","isBlocked","style","getColor","draggable","onDragStart","drag","_this3","onDrop","dropInTableau","bind","onDragOver","allowDrop","showAllTableauCards","_this4","dropInFoundation","getTopMostCard","addCardToStackPile","onClick","updateDeck","showTopCard","getAllFoundationCards","getAllTableauCards","allCards","React","Component","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.cb175662.chunk.js","sourcesContent":["const Cards = [\n  {\n    suit: \"spade\",\n    value: 1,\n    color: \"black\",\n    unicode: \"\\u{1F0A1}\"\n  },\n  {\n    suit: \"spade\",\n    value: 2,\n    color: \"black\",\n    unicode: \"\\u{1F0A2}\"\n  },\n  {\n    suit: \"spade\",\n    value: 3,\n    color: \"black\",\n    unicode: \"\\u{1F0A3}\"\n  },\n  {\n    suit: \"spade\",\n    value: 4,\n    color: \"black\",\n    unicode: \"\\u{1F0A4}\"\n  },\n  {\n    suit: \"spade\",\n    value: 5,\n    color: \"black\",\n    unicode: \"\\u{1F0A5}\"\n  },\n  {\n    suit: \"spade\",\n    value: 6,\n    color: \"black\",\n    unicode: \"\\u{1F0A6}\"\n  },\n  {\n    suit: \"spade\",\n    value: 7,\n    color: \"black\",\n    unicode: \"\\u{1F0A7}\"\n  },\n  {\n    suit: \"spade\",\n    value: 8,\n    color: \"black\",\n    unicode: \"\\u{1F0A8}\"\n  },\n  {\n    suit: \"spade\",\n    value: 9,\n    color: \"black\",\n    unicode: \"\\u{1F0A9}\"\n  },\n  {\n    suit: \"spade\",\n    value: 10,\n    color: \"black\",\n    unicode: \"\\u{1F0AA}\"\n  },\n  {\n    suit: \"spade\",\n    value: 11,\n    color: \"black\",\n    unicode: \"\\u{1F0AB}\"\n  },\n  {\n    suit: \"spade\",\n    value: 12,\n    color: \"black\",\n    unicode: \"\\u{1F0AD}\"\n  },\n  {\n    suit: \"spade\",\n    value: 13,\n    color: \"black\",\n    unicode: \"\\u{1F0AE}\"\n  },\n  {\n    suit: \"club\",\n    value: 1,\n    color: \"black\",\n    unicode: \"\\u{1F0D1}\"\n  },\n  {\n    suit: \"club\",\n    value: 2,\n    color: \"black\",\n    unicode: \"\\u{1F0D2}\"\n  },\n  {\n    suit: \"club\",\n    value: 3,\n    color: \"black\",\n    unicode: \"\\u{1F0D3}\"\n  },\n  {\n    suit: \"club\",\n    value: 4,\n    color: \"black\",\n    unicode: \"\\u{1F0D4}\"\n  },\n  {\n    suit: \"club\",\n    value: 5,\n    color: \"black\",\n    unicode: \"\\u{1F0D5}\"\n  },\n  {\n    suit: \"club\",\n    value: 6,\n    color: \"black\",\n    unicode: \"\\u{1F0D6}\"\n  },\n  {\n    suit: \"club\",\n    value: 7,\n    color: \"black\",\n    unicode: \"\\u{1F0D7}\"\n  },\n  {\n    suit: \"club\",\n    value: 8,\n    color: \"black\",\n    unicode: \"\\u{1F0D8}\"\n  },\n  {\n    suit: \"club\",\n    value: 9,\n    color: \"black\",\n    unicode: \"\\u{1F0D9}\"\n  },\n  {\n    suit: \"club\",\n    value: 10,\n    color: \"black\",\n    unicode: \"\\u{1F0DA}\"\n  },\n  {\n    suit: \"club\",\n    value: 11,\n    color: \"black\",\n    unicode: \"\\u{1F0DB}\"\n  },\n  {\n    suit: \"club\",\n    value: 12,\n    color: \"black\",\n    unicode: \"\\u{1F0DD}\"\n  },\n  {\n    suit: \"club\",\n    value: 13,\n    color: \"black\",\n    unicode: \"\\u{1F0DE}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 1,\n    color: \"red\",\n    unicode: \"\\u{1F0C1}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 2,\n    color: \"red\",\n    unicode: \"\\u{1F0C2}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 3,\n    color: \"red\",\n    unicode: \"\\u{1F0C3}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 4,\n    color: \"red\",\n    unicode: \"\\u{1F0C4}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 5,\n    color: \"red\",\n    unicode: \"\\u{1F0C5}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 6,\n    color: \"red\",\n    unicode: \"\\u{1F0C6}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 7,\n    color: \"red\",\n    unicode: \"\\u{1F0C7}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 8,\n    color: \"red\",\n    unicode: \"\\u{1F0C8}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 9,\n    color: \"red\",\n    unicode: \"\\u{1F0C9}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 10,\n    color: \"red\",\n    unicode: \"\\u{1F0CA}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 11,\n    color: \"red\",\n    unicode: \"\\u{1F0CB}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 12,\n    color: \"red\",\n    unicode: \"\\u{1F0CD}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 13,\n    color: \"red\",\n    unicode: \"\\u{1F0CE}\"\n  },\n  {\n    suit: \"heart\",\n    value: 1,\n    color: \"red\",\n    unicode: \"\\u{1F0B1}\"\n  },\n  {\n    suit: \"heart\",\n    value: 2,\n    color: \"red\",\n    unicode: \"\\u{1F0B2}\"\n  },\n  {\n    suit: \"heart\",\n    value: 3,\n    color: \"red\",\n    unicode: \"\\u{1F0B3}\"\n  },\n  {\n    suit: \"heart\",\n    value: 4,\n    color: \"red\",\n    unicode: \"\\u{1F0B4}\"\n  },\n  {\n    suit: \"heart\",\n    value: 5,\n    color: \"red\",\n    unicode: \"\\u{1F0B5}\"\n  },\n  {\n    suit: \"heart\",\n    value: 6,\n    color: \"red\",\n    unicode: \"\\u{1F0B6}\"\n  },\n  {\n    suit: \"heart\",\n    value: 7,\n    color: \"red\",\n    unicode: \"\\u{1F0B7}\"\n  },\n  {\n    suit: \"heart\",\n    value: 8,\n    color: \"red\",\n    unicode: \"\\u{1F0B8}\"\n  },\n  {\n    suit: \"heart\",\n    value: 9,\n    color: \"red\",\n    unicode: \"\\u{1F0B9}\"\n  },\n  {\n    suit: \"heart\",\n    value: 10,\n    color: \"red\",\n    unicode: \"\\u{1F0BA}\"\n  },\n  {\n    suit: \"heart\",\n    value: 11,\n    color: \"red\",\n    unicode: \"\\u{1F0BB}\"\n  },\n  {\n    suit: \"heart\",\n    value: 12,\n    color: \"red\",\n    unicode: \"\\u{1F0BD}\"\n  },\n  {\n    suit: \"heart\",\n    value: 13,\n    color: \"red\",\n    unicode: \"\\u{1F0BE}\"\n  }\n];\n\nconst EmptyCard = { unicode: \"\\u{1F0DF}\" };\nconst Default = { unicode: \"\\u{1F0A0}\" };\n\nexport { Cards, EmptyCard, Default };\n","class Game {\n  constructor() {\n    this.deck = null;\n    this.tableaus = [];\n    this.foundations = [];\n    this.showCardPile = null;\n  }\n\n  addShuffledPile(pile) {\n    this.deck = pile;\n  }\n\n  drawCard() {\n    return this.deck.drawCard();\n  }\n\n  setShowCardPile(pile) {\n    this.showCardPile = pile;\n  }\n\n  reloadDeck() {\n    if (this.showCardPile.isEmpty()) return;\n    this.deck.addCard(this.showCardPile.drawCard());\n    return this.reloadDeck();\n  }\n\n  changeCard() {\n    if (this.deck.isEmpty()) {\n      return this.reloadDeck();\n    }\n    this.showCardPile.addCard(this.drawCard());\n  }\n\n  addTableau(tableau) {\n    this.tableaus.push(tableau);\n  }\n\n  getTopMostCard() {\n    return this.showCardPile.getLastCard();\n  }\n\n  addFoundation(foundation) {\n    this.foundations.push(foundation);\n  }\n\n  addCardToReservedPile(id, des) {\n    des = des.split(\"_\");\n    if (des.includes(\"showCard\")) {\n      return this.addCardToReservedPileFromWaste(id);\n    }\n    if (des.includes(\"tableau\")) {\n      return this.addCardToFoundationFromTableau(id, des[1], des[2]);\n    }\n  }\n\n  addCardToStackPile(id, des) {\n    des = des.split(\"_\");\n    if (des.includes(\"showCard\")) {\n      return this.addCardToStackPileFromWaste(id);\n    }\n    if (des.includes(\"foundation\")) {\n      return this.addCardToStackPileFromFoundation(id, des[1]);\n    }\n    return this.addCardToTableauFromTableau(id, des[1], des[2]);\n  }\n\n  addCardToStackPileFromWaste(id) {\n    const pile = this.tableaus[id];\n    const srcPile = this.showCardPile;\n    const isAddable = pile.isAddableToStackPile(srcPile.getLastCardValue());\n    const isAlternateColor = pile.isAlternateColor(srcPile.getLastCardColor());\n    if (isAddable && isAlternateColor) {\n      pile.addCard(srcPile.drawCard());\n    }\n    return isAddable && isAlternateColor;\n  }\n\n  addCardToReservedPileFromWaste(id) {\n    const pile = this.foundations[id];\n    const srcPile = this.showCardPile;\n    const isAddable = pile.isAddableToReservedPile(+srcPile.getLastCardValue());\n    const isSameSuit = pile.isSameSuit(srcPile.getLastCardSuit());\n    if (isAddable && isSameSuit) pile.addCard(srcPile.drawCard());\n    return isAddable && isSameSuit;\n  }\n\n  addCardToStackPileFromFoundation(id, des) {\n    const pile = this.tableaus[id];\n    const srcPile = this.foundations[des];\n    const isAddable = pile.isAddableToStackPile(srcPile.getLastCardValue());\n    const isAlternateColor = pile.isAlternateColor(srcPile.getLastCardColor());\n    if (isAddable && isAlternateColor) pile.addCard(srcPile.drawCard());\n    return isAddable && isAlternateColor;\n  }\n\n  addCardToFoundationFromTableau(id, des, noOfCards) {\n    if (noOfCards > 1) return false;\n    const pile = this.foundations[id];\n    const srcPile = this.tableaus[des];\n    const isAddable = pile.isAddableToReservedPile(+srcPile.getLastCardValue());\n    const isSameSuit = pile.isSameSuit(srcPile.getLastCardSuit());\n    if (isAddable && isSameSuit) pile.addCard(srcPile.drawCard());\n    return isAddable && isSameSuit;\n  }\n\n  addCardToTableauFromTableau(id, des, noOfCards) {\n    const pile = this.tableaus[id];\n    const srcPile = this.tableaus[des];\n    const isAddable = pile.isAddableToStackPile(\n      srcPile.getCardValue(noOfCards)\n    );\n    const isAlternateColor = pile.isAlternateColor(\n      srcPile.getCardColor(noOfCards)\n    );\n    if (isAddable && isAlternateColor) {\n      pile.addCards(srcPile.drawCards(noOfCards));\n    }\n    return isAddable && isAlternateColor;\n  }\n\n  isDraggable(pile) {\n    return pile.isDraggable();\n  }\n\n  moveToPossiblePile(src, noOfCards) {\n    if (src === \"showCard\") {\n      let result = this.foundations.some((x, id) =>\n        this.addCardToReservedPileFromWaste(id)\n      );\n      result =\n        result ||\n        this.stackPiles.some((x, id) => this.addCardToStackPileFromWaste(id));\n      return result;\n    }\n    let result = this.foundations.some((x, id) =>\n      this.addCardToFoundationFromTableau(id, src, noOfCards)\n    );\n    result =\n      result ||\n      this.stackPiles.some((x, id) =>\n        this.addCardToTableauFromTableau(id, src, noOfCards)\n      );\n    return result;\n  }\n}\n\nexport default Game;\n","class Pile {\n  constructor() {\n    this.cards = [];\n  }\n\n  addCard(card) {\n    this.cards.push(card);\n  }\n\n  addCards(cards) {\n    cards.forEach(card => this.addCard(card));\n  }\n\n  getLastCard() {\n    return this.cards[this.cards.length - 1];\n  }\n\n  getCard(id) {\n    return this.cards[this.cards.length - +id];\n  }\n\n  getCardValue(id) {\n    if (this.getCard(id)) {\n      return this.getCard(id).value;\n    }\n    return 0;\n  }\n\n  getCardColor(id) {\n    return this.getCard(id).color;\n  }\n\n  getLastCardValue() {\n    if (this.getLastCard()) {\n      return +this.getLastCard().value;\n    }\n    return 0;\n  }\n\n  getLastCardColor() {\n    return this.getLastCard().color;\n  }\n\n  getLastCardSuit() {\n    return this.getLastCard().suit;\n  }\n\n  drawCard() {\n    return this.cards.pop();\n  }\n\n  drawCards(noOfCards) {\n    let result = new Array(noOfCards).fill(1);\n    result = result.map(x => this.drawCard());\n    result.reverse();\n    return result;\n  }\n\n  isDraggable() {\n    return this.cards.length > 0;\n  }\n\n  blockLastCard() {\n    this.getLastCard().blockCard();\n  }\n\n  revealLastCard() {\n    this.getLastCard().revealCard();\n  }\n\n  isAddableToStackPile(value) {\n    if (this.getLastCardValue() === 0) return value === 13;\n    return +this.getLastCardValue() === +value + 1;\n  }\n\n  isAddableToReservedPile(value) {\n    return this.getLastCardValue() === +value - 1;\n  }\n\n  isAlternateColor(color) {\n    if (this.getLastCard()) return this.getLastCardColor() !== color;\n    return true;\n  }\n\n  isSameSuit(suit) {\n    if (this.getLastCard()) return this.getLastCardSuit() === suit;\n    return true;\n  }\n\n  isEmpty() {\n    return this.cards.length === 0;\n  }\n\n  getAllCards() {\n    return this.cards;\n  }\n}\n\nexport default Pile;\n","class Card {\n  constructor({ suit, color, value, unicode }) {\n    this.suit = suit;\n    this.color = color;\n    this.value = value;\n    this.unicode = unicode;\n    this.isBlockedCard = false;\n    this.actualUnicode = unicode;\n    this.actualColor = color;\n  }\n  getUnicode() {\n    return this.unicode;\n  }\n  blockCard() {\n    this.isBlockedCard = true;\n    this.unicode = \"\\u{1F0A0}\";\n    this.color = \"black\";\n  }\n  revealCard() {\n    this.isBlockedCard = false;\n    this.unicode = this.actualUnicode;\n    this.color = this.actualColor;\n  }\n  isBlocked() {\n    return this.isBlockedCard;\n  }\n}\n\nexport default Card;\n","import React from \"react\";\nimport { Cards, EmptyCard, Default } from \"./cards_data/cards\";\nimport lodash from \"lodash\";\nimport Game from \"./game\";\nimport Pile from \"./pile\";\nimport Card from \"./Card\";\n\nconst defaultCard = new Card(Default);\nconst emptyCard = new Card(EmptyCard);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pile = new Pile();\n    this.state = { game: this.startGame() };\n  }\n\n  startGame() {\n    const game = new Game();\n    game.addShuffledPile(this.initializePile());\n    this.setFoundations(game);\n    this.setTableaus(game);\n    game.setShowCardPile(new Pile());\n    return game;\n  }\n\n  initializePile() {\n    const pile = new Pile();\n    const shuffledCards = lodash.shuffle(Cards);\n    shuffledCards.forEach(card => {\n      pile.addCard(new Card(card));\n    });\n    return pile;\n  }\n\n  setTableaus(game) {\n    for (let index = 0; index <= 7; index++) {\n      let tableau = new Pile();\n      for (let i = 0; i <= index; i++) {\n        tableau.addCard(game.drawCard());\n        tableau.blockLastCard();\n      }\n      tableau.revealLastCard();\n      game.addTableau(tableau);\n    }\n  }\n\n  setFoundations(game) {\n    for (let index = 0; index < 4; index++) {\n      game.addFoundation(new Pile());\n    }\n  }\n\n  updateDeck() {\n    this.setState(state => {\n      const { game } = state;\n      game.changeCard();\n      return { game };\n    });\n  }\n\n  allowDrop(event) {\n    event.preventDefault();\n  }\n\n  drag(event) {\n    event.dataTransfer.setData(\"id\", event.target.id);\n  }\n\n  dropInFoundation(destination, event) {\n    event.preventDefault();\n    const src = event.dataTransfer.getData(\"id\");\n    this.setState(state => {\n      const { game } = state;\n      game.addCardToReservedPile(destination, src);\n      return { game };\n    });\n  }\n\n  showAllTableauCards(pile, index) {\n    const totalCards = pile.cards.length;\n    if (totalCards === 0)\n      return <div className=\"tableauCard\">{emptyCard.getUnicode()}</div>;\n    return pile.cards.map((card, i) => {\n      if (i + 1 === totalCards) {\n        card.revealCard();\n      }\n      if (card.isBlocked())\n        return (\n          <div\n            className=\"tableauCard\"\n            style={this.getColor(card)}\n            draggable=\"false\"\n          >\n            {card.getUnicode()}\n          </div>\n        );\n      return (\n        <div\n          className=\"tableauCard\"\n          id={\"tableau_\" + index + \"_\" + (totalCards - i)}\n          draggable=\"true\"\n          onDragStart={this.drag}\n          style={this.getColor(card)}\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    });\n  }\n\n  getAllTableauCards() {\n    const piles = this.state.game.tableaus;\n    return piles.map((tableau, index) => {\n      return (\n        <div\n          className=\"card\"\n          id={\"tableau_\" + index}\n          onDrop={this.dropInTableau.bind(this, index)}\n          onDragOver={this.allowDrop}\n        >\n          {this.showAllTableauCards(tableau, index)}\n        </div>\n      );\n    });\n  }\n\n  getAllFoundationCards() {\n    const piles = this.state.game.foundations;\n    return piles.map((foundation, index) => {\n      let card = foundation.getLastCard();\n      if (!card) card = emptyCard;\n      return (\n        <div\n          id={\"foundation_\" + index}\n          className=\"foundationCard\"\n          draggable=\"true\"\n          onDragStart={this.drag}\n          onDrop={this.dropInFoundation.bind(this, index)}\n          onDragOver={this.allowDrop}\n          style={this.getColor(card)}\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    });\n  }\n\n  getColor(card) {\n    return { color: card.color };\n  }\n\n  showTopCard() {\n    let card = this.state.game.getTopMostCard();\n    if (!card) card = emptyCard;\n    return (\n      <div\n        id=\"showCard\"\n        className=\"card\"\n        style={this.getColor(card)}\n        draggable={this.state.game.showCardPile.isDraggable()}\n        onDragStart={this.drag}\n      >\n        {card.getUnicode()}\n      </div>\n    );\n  }\n\n  dropInTableau(destination, event) {\n    event.preventDefault();\n    const src = event.dataTransfer.getData(\"id\");\n    this.setState(state => {\n      const { game } = state;\n      game.addCardToStackPile(destination, src);\n      return { game };\n    });\n  }\n\n  allCards() {\n    return (\n      <div>\n        <div>\n          <div className=\"stock\" >\n            <div  onClick={this.updateDeck.bind(this)} className=\"foundationCard\">\n              {defaultCard.getUnicode()}\n            </div>\n            <div\n              id=\"wasteCard\"\n              onDragStart={this.drag}\n              onDragOver={this.allowDrop}\n              draggable=\"true\"\n              className=\"foundationCard\"\n            >\n              {this.showTopCard()}\n            </div>\n            <div className=\"foundtionDeck\">{this.getAllFoundationCards()}</div>\n          </div>\n        </div>\n        <div className=\"deck\">{this.getAllTableauCards()}</div>\n      </div>\n    );\n  }\n\n  render() {\n    return <div className=\"main\">{this.allCards()}</div>;\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app'\nimport './index.css'\n\nReactDOM.render(<div><App /></div>, document.getElementById('root'));\n\n"],"sourceRoot":""}