{"version":3,"sources":["cards_data/cards.js","game.js","pile.js","Card.js","app.js","index.js"],"names":["Cards","suit","valu","color","unicode","value","Game","Object","classCallCheck","this","deck","tableaus","foundations","showCardPile","pile","drawCard","isEmpty","addCard","reloadDeck","tableau","push","getLastCard","foundation","id","des","console","log","split","includes","addCardToReservedPileFromWaste","addCardToFoundationFromTableau","addCardToStackPileFromWaste","addCardToStackPileFromFoundation","addCardToTableauFromTableau","srcPile","isAddable","isAddableToStackPile","getLastCardValue","isAlternateColor","getLastCardColor","isAddableToReservedPile","isSameSuit","getLastCardSuit","noOfCards","getCardValue","getCardColor","addCards","drawCards","isDraggable","src","_this","result","some","x","stackPiles","Pile","cards","card","forEach","length","getCard","pop","_this2","Array","fill","map","reverse","blockCard","revealCard","Card","_ref","isBlockedCard","actualUnicode","actualColor","defaultCard","emptyCard","App","props","possibleConstructorReturn","getPrototypeOf","call","state","game","startGame","addShuffledPile","initializePile","setFoundations","setTableaus","setShowCardPile","lodash","shuffle","index","i","blockLastCard","revealLastCard","addTableau","addFoundation","setState","changeCard","event","preventDefault","dataTransfer","setData","target","destination","getData","addCardToReservedPile","totalCards","react_default","a","createElement","getUnicode","isBlocked","style","getColor","draggable","className","onDragStart","drag","_this3","onDrop","dropInTableau","bind","onDragOver","allowDrop","showAllTableauCards","_this4","dropInFoundation","getTopMostCard","addCardToStackPile","onClick","updateDeck","showTopCard","getAllFoundationCards","getAllTableauCards","allCards","React","Component","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.0eb9addf.chunk.js","sourcesContent":["const Cards = [\n  {\n    suit: \"spade\",\n    valu: 1,\n    color: \"black\",\n    unicode: \"\\u{1F0A1}\"\n  },\n  {\n    suit: \"spade\",\n    value: 2,\n    color: \"black\",\n    unicode: \"\\u{1F0A2}\"\n  },\n  {\n    suit: \"spade\",\n    value: 3,\n    color: \"black\",\n    unicode: \"\\u{1F0A3}\"\n  },\n  {\n    suit: \"spade\",\n    value: 4,\n    color: \"black\",\n    unicode: \"\\u{1F0A4}\"\n  },\n  {\n    suit: \"spade\",\n    value: 5,\n    color: \"black\",\n    unicode: \"\\u{1F0A5}\"\n  },\n  {\n    suit: \"spade\",\n    value: 6,\n    color: \"black\",\n    unicode: \"\\u{1F0A6}\"\n  },\n  {\n    suit: \"spade\",\n    value: 7,\n    color: \"black\",\n    unicode: \"\\u{1F0A7}\"\n  },\n  {\n    suit: \"spade\",\n    value: 8,\n    color: \"black\",\n    unicode: \"\\u{1F0A8}\"\n  },\n  {\n    suit: \"spade\",\n    value: 9,\n    color: \"black\",\n    unicode: \"\\u{1F0A9}\"\n  },\n  {\n    suit: \"spade\",\n    value: 10,\n    color: \"black\",\n    unicode: \"\\u{1F0AA}\"\n  },\n  {\n    suit: \"spade\",\n    value: 11,\n    color: \"black\",\n    unicode: \"\\u{1F0AB}\"\n  },\n  {\n    suit: \"spade\",\n    value: 12,\n    color: \"black\",\n    unicode: \"\\u{1F0AD}\"\n  },\n  {\n    suit: \"spade\",\n    value: 13,\n    color: \"black\",\n    unicode: \"\\u{1F0AE}\"\n  },\n  {\n    suit: \"club\",\n    value: 1,\n    color: \"black\",\n    unicode: \"\\u{1F0D1}\"\n  },\n  {\n    suit: \"club\",\n    value: 2,\n    color: \"black\",\n    unicode: \"\\u{1F0D2}\"\n  },\n  {\n    suit: \"club\",\n    value: 3,\n    color: \"black\",\n    unicode: \"\\u{1F0D3}\"\n  },\n  {\n    suit: \"club\",\n    value: 4,\n    color: \"black\",\n    unicode: \"\\u{1F0D4}\"\n  },\n  {\n    suit: \"club\",\n    value: 5,\n    color: \"black\",\n    unicode: \"\\u{1F0D5}\"\n  },\n  {\n    suit: \"club\",\n    value: 6,\n    color: \"black\",\n    unicode: \"\\u{1F0D6}\"\n  },\n  {\n    suit: \"club\",\n    value: 7,\n    color: \"black\",\n    unicode: \"\\u{1F0D7}\"\n  },\n  {\n    suit: \"club\",\n    value: 8,\n    color: \"black\",\n    unicode: \"\\u{1F0D8}\"\n  },\n  {\n    suit: \"club\",\n    value: 9,\n    color: \"black\",\n    unicode: \"\\u{1F0D9}\"\n  },\n  {\n    suit: \"club\",\n    value: 10,\n    color: \"black\",\n    unicode: \"\\u{1F0DA}\"\n  },\n  {\n    suit: \"club\",\n    value: 11,\n    color: \"black\",\n    unicode: \"\\u{1F0DB}\"\n  },\n  {\n    suit: \"club\",\n    value: 12,\n    color: \"black\",\n    unicode: \"\\u{1F0DD}\"\n  },\n  {\n    suit: \"club\",\n    value: 13,\n    color: \"black\",\n    unicode: \"\\u{1F0DE}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 1,\n    color: \"red\",\n    unicode: \"\\u{1F0C1}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 2,\n    color: \"red\",\n    unicode: \"\\u{1F0C2}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 3,\n    color: \"red\",\n    unicode: \"\\u{1F0C3}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 4,\n    color: \"red\",\n    unicode: \"\\u{1F0C4}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 5,\n    color: \"red\",\n    unicode: \"\\u{1F0C5}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 6,\n    color: \"red\",\n    unicode: \"\\u{1F0C6}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 7,\n    color: \"red\",\n    unicode: \"\\u{1F0C7}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 8,\n    color: \"red\",\n    unicode: \"\\u{1F0C8}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 9,\n    color: \"red\",\n    unicode: \"\\u{1F0C9}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 10,\n    color: \"red\",\n    unicode: \"\\u{1F0CA}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 11,\n    color: \"red\",\n    unicode: \"\\u{1F0CB}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 12,\n    color: \"red\",\n    unicode: \"\\u{1F0CD}\"\n  },\n  {\n    suit: \"diamond\",\n    value: 13,\n    color: \"red\",\n    unicode: \"\\u{1F0CE}\"\n  },\n  {\n    suit: \"heart\",\n    value: 1,\n    color: \"red\",\n    unicode: \"\\u{1F0B1}\"\n  },\n  {\n    suit: \"heart\",\n    value: 2,\n    color: \"red\",\n    unicode: \"\\u{1F0B2}\"\n  },\n  {\n    suit: \"heart\",\n    value: 3,\n    color: \"red\",\n    unicode: \"\\u{1F0B3}\"\n  },\n  {\n    suit: \"heart\",\n    value: 4,\n    color: \"red\",\n    unicode: \"\\u{1F0B4}\"\n  },\n  {\n    suit: \"heart\",\n    value: 5,\n    color: \"red\",\n    unicode: \"\\u{1F0B5}\"\n  },\n  {\n    suit: \"heart\",\n    value: 6,\n    color: \"red\",\n    unicode: \"\\u{1F0B6}\"\n  },\n  {\n    suit: \"heart\",\n    value: 7,\n    color: \"red\",\n    unicode: \"\\u{1F0B7}\"\n  },\n  {\n    suit: \"heart\",\n    value: 8,\n    color: \"red\",\n    unicode: \"\\u{1F0B8}\"\n  },\n  {\n    suit: \"heart\",\n    value: 9,\n    color: \"red\",\n    unicode: \"\\u{1F0B9}\"\n  },\n  {\n    suit: \"heart\",\n    value: 10,\n    color: \"red\",\n    unicode: \"\\u{1F0BA}\"\n  },\n  {\n    suit: \"heart\",\n    value: 11,\n    color: \"red\",\n    unicode: \"\\u{1F0BB}\"\n  },\n  {\n    suit: \"heart\",\n    value: 12,\n    color: \"red\",\n    unicode: \"\\u{1F0BD}\"\n  },\n  {\n    suit: \"heart\",\n    value: 13,\n    color: \"red\",\n    unicode: \"\\u{1F0BE}\"\n  }\n];\n\nconst EmptyCard = { unicode: \"\\u{1F0DF}\" };\nconst Default = { unicode: \"\\u{1F0A0}\" };\n\nexport { Cards, EmptyCard, Default };\n","class Game {\n  constructor() {\n    this.deck = null;\n    this.tableaus = [];\n    this.foundations = [];\n    this.showCardPile = null;\n  }\n\n  addShuffledPile(pile) {\n    this.deck = pile;\n  }\n\n  drawCard() {\n    return this.deck.drawCard();\n  }\n\n  setShowCardPile(pile) {\n    this.showCardPile = pile;\n  }\n\n  reloadDeck() {\n    if (this.showCardPile.isEmpty()) return;\n    this.deck.addCard(this.showCardPile.drawCard());\n    return this.reloadDeck();\n  }\n\n  changeCard() {\n    if (this.deck.isEmpty()) {\n      return this.reloadDeck();\n    }\n    this.showCardPile.addCard(this.drawCard());\n  }\n\n  addTableau(tableau) {\n    this.tableaus.push(tableau);\n  }\n\n  getTopMostCard() {\n    return this.showCardPile.getLastCard();\n  }\n\n  addFoundation(foundation) {\n    this.foundations.push(foundation);\n  }\n\n  addCardToReservedPile(id, des) {\n    console.log(\"did it come to add card to reservedPile pile......\");\n    des = des.split(\"_\");\n    if (des.includes(\"showCard\")) {\n      return this.addCardToReservedPileFromWaste(id);\n    }\n    if (des.includes(\"tableau\")) {\n      return this.addCardToFoundationFromTableau(id, des[1], des[2]);\n    }\n  }\n\n  addCardToStackPile(id, des) {\n    des = des.split(\"_\");\n    if (des.includes(\"showCard\")) {\n      console.log(\"did it come to add card to stack pile......\");\n      return this.addCardToStackPileFromWaste(id);\n    }\n    if (des.includes(\"foundation\")) {\n      return this.addCardToStackPileFromFoundation(id, des[1]);\n    }\n    return this.addCardToTableauFromTableau(id, des[1], des[2]);\n  }\n\n  addCardToStackPileFromWaste(id) {\n    const pile = this.tableaus[id];\n    const srcPile = this.showCardPile;\n    const isAddable = pile.isAddableToStackPile(srcPile.getLastCardValue());\n    const isAlternateColor = pile.isAlternateColor(srcPile.getLastCardColor());\n    if (isAddable && isAlternateColor) {\n      pile.addCard(srcPile.drawCard());\n    }\n    return isAddable && isAlternateColor;\n  }\n\n  addCardToReservedPileFromWaste(id) {\n    const pile = this.foundations[id];\n    const srcPile = this.showCardPile;\n    const isAddable = pile.isAddableToReservedPile(srcPile.getLastCardValue());\n    const isSameSuit = pile.isSameSuit(srcPile.getLastCardSuit());\n    if (isAddable && isSameSuit) pile.addCard(srcPile.drawCard());\n    return isAddable && isSameSuit;\n  }\n\n  addCardToStackPileFromFoundation(id, des) {\n    const pile = this.tableaus[id];\n    const srcPile = this.foundations[des];\n    const isAddable = pile.isAddableToStackPile(srcPile.getLastCardValue());\n    const isAlternateColor = pile.isAlternateColor(srcPile.getLastCardColor());\n    if (isAddable && isAlternateColor) pile.addCard(srcPile.drawCard());\n    return isAddable && isAlternateColor;\n  }\n\n  addCardToFoundationFromTableau(id, des, noOfCards) {\n    if (noOfCards > 1) return false;\n    const pile = this.foundations[id];\n    const srcPile = this.tableaus[des];\n    const isAddable = pile.isAddableToReservedPile(srcPile.getLastCardValue());\n    const isSameSuit = pile.isSameSuit(srcPile.getLastCardSuit());\n    if (isAddable && isSameSuit) pile.addCard(srcPile.drawCard());\n    return isAddable && isSameSuit;\n  }\n\n  addCardToTableauFromTableau(id, des, noOfCards) {\n    const pile = this.tableaus[id];\n    const srcPile = this.tableaus[des];\n    const isAddable = pile.isAddableToStackPile(\n      srcPile.getCardValue(noOfCards)\n    );\n    const isAlternateColor = pile.isAlternateColor(\n      srcPile.getCardColor(noOfCards)\n    );\n    if (isAddable && isAlternateColor) {\n      pile.addCards(srcPile.drawCards(noOfCards));\n    }\n    return isAddable && isAlternateColor;\n  }\n\n  isDraggable(pile) {\n    return pile.isDraggable();\n  }\n\n  moveToPossiblePile(src, noOfCards) {\n    if (src === \"showCard\") {\n      let result = this.foundations.some((x, id) =>\n        this.addCardToReservedPileFromWaste(id)\n      );\n      result =\n        result ||\n        this.stackPiles.some((x, id) => this.addCardToStackPileFromWaste(id));\n      return result;\n    }\n    let result = this.foundations.some((x, id) =>\n      this.addCardToFoundationFromTableau(id, src, noOfCards)\n    );\n    result =\n      result ||\n      this.stackPiles.some((x, id) =>\n        this.addCardToTableauFromTableau(id, src, noOfCards)\n      );\n    return result;\n  }\n}\n\nexport default Game;\n","class Pile {\n  constructor() {\n    this.cards = [];\n  }\n\n  addCard(card) {\n    this.cards.push(card);\n  }\n\n  addCards(cards) {\n    cards.forEach(card => this.addCard(card));\n  }\n\n  getLastCard() {\n    return this.cards[this.cards.length - 1];\n  }\n\n  getCard(id) {\n    return this.cards[this.cards.length - +id];\n  }\n\n  getCardValue(id) {\n    if (this.getCard(id)) {\n      return this.getCard(id).value;\n    }\n    return 0;\n  }\n\n  getCardColor(id) {\n    return this.getCard(id).color;\n  }\n\n  getLastCardValue() {\n    if (this.getLastCard()) {\n      return +this.getLastCard().value;\n    }\n    return 0;\n  }\n\n  getLastCardColor() {\n    return this.getLastCard().color;\n  }\n\n  getLastCardSuit() {\n    return this.getLastCard().suit;\n  }\n\n  drawCard() {\n    return this.cards.pop();\n  }\n\n  drawCards(noOfCards) {\n    let result = new Array(noOfCards).fill(1);\n    result = result.map(x => this.drawCard());\n    result.reverse();\n    return result;\n  }\n\n  isDraggable() {\n    return this.cards.length > 0;\n  }\n\n  blockLastCard() {\n    this.getLastCard().blockCard();\n  }\n\n  revealLastCard() {\n    this.getLastCard().revealCard();\n  }\n\n  isAddableToStackPile(value) {\n    if (this.getLastCardValue() === 0) return value === 13;\n    return +this.getLastCardValue() === +value + 1;\n  }\n\n  isAddableToReservedPile(value) {\n    console.log(\n      this.getLastCardValue(),\n      \"this is last value of the card\",\n      \"value is\",\n      +value-1\n    );\n    return this.getLastCardValue() === +value - 1;\n  }\n\n  isAlternateColor(color) {\n    if (this.getLastCard()) return this.getLastCardColor() !== color;\n    return true;\n  }\n\n  isSameSuit(suit) {\n    if (this.getLastCard()) return this.getLastCardSuit() === suit;\n    return true;\n  }\n\n  isEmpty() {\n    return this.cards.length === 0;\n  }\n\n  getAllCards() {\n    return this.cards;\n  }\n}\n\nexport default Pile;\n","class Card {\n  constructor({ suit, color, value, unicode }) {\n    this.suit = suit;\n    this.color = color;\n    this.value = value;\n    this.unicode = unicode;\n    this.isBlockedCard = false;\n    this.actualUnicode = unicode;\n    this.actualColor = color;\n  }\n  getUnicode() {\n    return this.unicode;\n  }\n  blockCard() {\n    this.isBlockedCard = true;\n    this.unicode = \"\\u{1F0A0}\";\n    this.color = \"black\";\n  }\n  revealCard() {\n    this.isBlockedCard = false;\n    this.unicode = this.actualUnicode;\n    this.color = this.actualColor;\n  }\n  isBlocked() {\n    return this.isBlockedCard;\n  }\n}\n\nexport default Card;\n","import React from \"react\";\nimport { Cards, EmptyCard, Default } from \"./cards_data/cards\";\nimport lodash from \"lodash\";\nimport Game from \"./game\";\nimport Pile from \"./pile\";\nimport Card from \"./Card\";\n\nconst defaultCard = new Card(Default);\nconst emptyCard = new Card(EmptyCard);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pile = new Pile();\n    this.state = { game: this.startGame() };\n  }\n\n  startGame() {\n    const game = new Game();\n    game.addShuffledPile(this.initializePile());\n    this.setFoundations(game);\n    this.setTableaus(game);\n    game.setShowCardPile(new Pile());\n    return game;\n  }\n\n  initializePile() {\n    const pile = new Pile();\n    const shuffledCards = lodash.shuffle(Cards);\n    shuffledCards.forEach(card => {\n      pile.addCard(new Card(card));\n    });\n    return pile;\n  }\n\n  setTableaus(game) {\n    for (let index = 0; index <= 7; index++) {\n      let tableau = new Pile();\n      for (let i = 0; i <= index; i++) {\n        tableau.addCard(game.drawCard());\n        tableau.blockLastCard();\n      }\n      tableau.revealLastCard();\n      game.addTableau(tableau);\n    }\n  }\n\n  setFoundations(game) {\n    for (let index = 0; index < 4; index++) {\n      game.addFoundation(new Pile());\n    }\n  }\n\n  updateDeck() {\n    this.setState(state => {\n      const { game } = state;\n      game.changeCard();\n      return { game };\n    });\n  }\n\n  allowDrop(event) {\n    event.preventDefault();\n  }\n\n  drag(event) {\n    event.dataTransfer.setData(\"id\", event.target.id);\n  }\n\n  dropInFoundation(destination, event) {\n    event.preventDefault();\n    const src = event.dataTransfer.getData(\"id\");\n    this.setState(state => {\n      const { game } = state;\n      game.addCardToReservedPile(destination, src);\n      return { game };\n    });\n  }\n\n  showAllTableauCards(pile, index) {\n    const totalCards = pile.cards.length;\n    if (totalCards === 0) return <div>{emptyCard.getUnicode()}</div>;\n    return pile.cards.map((card, i) => {\n      if (i + 1 === totalCards) {\n        card.revealCard();\n      }\n      if (card.isBlocked())\n        return (\n          <div style={this.getColor(card)} draggable=\"false\">\n            {card.getUnicode()}\n          </div>\n        );\n      return (\n        <div\n          className=\"card\"\n          id={\"tableau_\" + index + \"_\" + (totalCards - i)}\n          draggable=\"true\"\n          onDragStart={this.drag}\n          style={this.getColor(card)}\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    });\n  }\n\n  getAllTableauCards() {\n    const piles = this.state.game.tableaus;\n    return piles.map((tableau, index) => {\n      return (\n        <div\n          className=\"card\"\n          id={\"tableau_\" + index}\n          onDrop={this.dropInTableau.bind(this, index)}\n          onDragOver={this.allowDrop}\n        >\n          {this.showAllTableauCards(tableau, index)}\n        </div>\n      );\n    });\n  }\n\n  getAllFoundationCards() {\n    const piles = this.state.game.foundations;\n    return piles.map((foundation, index) => {\n      let card = foundation.getLastCard();\n      if (!card) card = emptyCard;\n      return (\n        <div\n          id={\"foundation_\" + index}\n          className=\"card\"\n          draggable=\"true\"\n          onDragStart={this.drag}\n          onDrop={this.dropInFoundation.bind(this, index)}\n          onDragOver={this.allowDrop}\n          style={this.getColor(card)}\n        >\n          {card.getUnicode()}\n        </div>\n      );\n    });\n  }\n\n  getColor(card) {\n    return { color: card.color };\n  }\n\n  showTopCard() {\n    let card = this.state.game.getTopMostCard();\n    if (!card) card = emptyCard;\n    return (\n      <div\n        id=\"showCard\"\n        className=\"card\"\n        style={this.getColor(card)}\n        draggable={this.state.game.showCardPile.isDraggable()}\n        onDragStart={this.drag}\n      >\n        {card.getUnicode()}\n      </div>\n    );\n  }\n\n  dropInTableau(destination, event) {\n    event.preventDefault();\n    const src = event.dataTransfer.getData(\"id\");\n    this.setState(state => {\n      const { game } = state;\n      game.addCardToStackPile(destination, src);\n      return { game };\n    });\n  }\n\n  allCards() {\n    return (\n      <div>\n        <div>\n          <div className=\"stock\">\n            <div onClick={this.updateDeck.bind(this)} className=\"card\">\n              {defaultCard.getUnicode()}\n            </div>\n            <div\n              id=\"wasteCard\"\n              onDragStart={this.drag}\n              onDragOver={this.allowDrop}\n              draggable=\"true\"\n              className=\"card\"\n            >\n              {this.showTopCard()}\n            </div>\n            {this.getAllFoundationCards()}\n          </div>\n        </div>\n        <div className=\"deck\">{this.getAllTableauCards()}</div>\n      </div>\n    );\n  }\n\n  render() {\n    return <div className=\"main\">{this.allCards()}</div>;\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app'\nimport './index.css'\n\nReactDOM.render(<div><App /></div>, document.getElementById('root'));\n\n"],"sourceRoot":""}